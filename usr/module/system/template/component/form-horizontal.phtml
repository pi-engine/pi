<?php
    $form->setAttribute('class', 'form-horizontal');
    $form->prepare();
    $this->FormElementErrors()->setMessageOpenFormat('')->setMessageCloseString('');
    $elements = $form->elementList();
    echo $this->form()->openTag($form);
    foreach ($elements['active'] as $element) {
        echo sprintf('<div class="control-group%s"><label class="control-label">%s</label>
            <div class="controls">%s<span class="help-inline%s">%s</span></div></div>',
            $element->getMessages() ? ' error' : '',
            $element->getOption('label'),
            $this->formElement($element),
            $element->getMessages() ? '' : ' hide',
            $this->formElementErrors($element));
    }
    foreach ($elements['hidden'] as $element) {
        echo $this->formElement($element);
    }
    echo sprintf('<div class="controls controls-action">%s%s</div>', 
        $this->formElement($elements['submit']),
        empty($ResetShow) ? '' : '<input type="reset" value="cancel" class="btn btn-link js-cancel">');
    echo $this->form()->closeTag();
?>